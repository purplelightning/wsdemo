<html>
  <head>
    <title>

    </title>
  </head>
  <body>
    
  </body>
  <script>
    Function.prototype.myCall = function(context=window){
      context.fn = this
      let args = [...arguments].slice(1)
      let res = context.fn(...args)
      delete context.fn
      return res
    }
    Function.prototype.myApply = function(context=window){
      context.fn = this
      let args = arguments[1]
      let res = context.fn(...args)
      delete context.fn
      return res
    }
    Function.prototype.myBind = function(context=window){
      if(typeof this !== 'function'){
        throw Error('error')
      }
      let fn = this
      let args = [...arguments].slice(1)
      let resFn = function(){
        return fn.apply(this instanceof resFn ? this : context, args.concat(...arguments))
      }
      function tmp(){}
      tmp.prototype = this.prototype
      resFn.prototype = new tmp()
      return resFn
    }

    function New(fn){
      let obj = Object.create(fn.prototype)
      let args= [...arguments].slice(1)
      let res = fn.call(obj, ...args)
      if(res && (typeof res === 'object' || typeof res ==='function')){
        return res
      }
      return obj
    }
  </script>
</html>